import { Client } from "@gradio/client";
import { useState, useEffect } from 'react';

const DangerPrediction = () => {
    const [prediction, setPrediction] = useState(null);

    useEffect(() => {
        const fetchData = async () => {
            const client = await Client.connect("solo-driven/wild-fire-detector");
            const result = await client.predict("/predict", {
                locations: {
                    "headers": ["a", "b"],
                    "data": [
                        [36.99887132095771, 30.471641438038027],
                        [36.99943442957833, 30.48868591897663],
                        [36.96538768867892, 30.48581341662709],
                        [37.00903538233324, 30.50660315296361],
                        [36.98281504353844, 30.4444134161759],
                        [36.96258060839884, 30.46731258639675],
                        [36.984422888533764, 30.481523467491044],
                        [36.95050847556072, 30.494915277671637],
                        [36.96439975014729, 30.442133599095325],
                        [36.978026903525276, 30.494207140831605],
                        [36.9724393763373, 30.5355247452672],
                        [36.97720078812842, 30.515871910327267],
                        [36.94775648297839, 30.504749481596658],
                        [36.99340388892239, 30.5324091085135],
                        [37.00972574666341, 30.50051425542735],
                        [37.01476662440244, 30.45731439196793],
                        [36.94523065683554, 30.442064104016517],
                        [36.92653973920827, 30.474025667566178],
                        [36.93610391464209, 30.493619366867645],
                        [36.950174857888015, 30.529559021626724]
                    ]
                }
            });
            setPrediction(result.data);
        };

        fetchData();
    }, []);

    console.log(prediction);

    return (
        <div>
            salam
        </div>
    );
}

export default DangerPrediction;
